{"ast":null,"code":"\"use strict\";\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction parseQuery(urlObj, options) {\n  urlObj.query.string.full = stringify(urlObj.query.object, false); // TWEAK :: condition only for speed optimization\n\n  if (options.removeEmptyQueries) {\n    urlObj.query.string.stripped = stringify(urlObj.query.object, true);\n  }\n}\n\nfunction stringify(queryObj, removeEmptyQueries) {\n  var count = 0;\n  var str = \"\";\n\n  for (var i in queryObj) {\n    if (i !== \"\" && hasOwnProperty.call(queryObj, i) === true) {\n      var value = queryObj[i];\n\n      if (value !== \"\" || !removeEmptyQueries) {\n        str += ++count === 1 ? \"?\" : \"&\";\n        i = encodeURIComponent(i);\n\n        if (value !== \"\") {\n          str += i + \"=\" + encodeURIComponent(value).replace(/%20/g, \"+\");\n        } else {\n          str += i;\n        }\n      }\n    }\n  }\n\n  return str;\n}\n\nmodule.exports = parseQuery;","map":null,"metadata":{},"sourceType":"script"}