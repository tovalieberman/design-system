{"ast":null,"code":"\"use strict\";\n\nvar hrefInfo = require(\"./hrefInfo\");\n\nvar parseHost = require(\"./host\");\n\nvar parsePath = require(\"./path\");\n\nvar parsePort = require(\"./port\");\n\nvar parseQuery = require(\"./query\");\n\nvar parseUrlString = require(\"./urlstring\");\n\nvar pathUtils = require(\"../util/path\");\n\nfunction parseFromUrl(url, options, fallback) {\n  if (url) {\n    var urlObj = parseUrl(url, options); // Because the following occurs in the relate stage for \"to\" URLs,\n    // such had to be mostly duplicated here\n\n    var pathArray = pathUtils.resolveDotSegments(urlObj.path.absolute.array);\n    urlObj.path.absolute.array = pathArray;\n    urlObj.path.absolute.string = \"/\" + pathUtils.join(pathArray);\n    return urlObj;\n  } else {\n    return fallback;\n  }\n}\n\nfunction parseUrl(url, options) {\n  var urlObj = parseUrlString(url, options);\n  if (urlObj.valid === false) return urlObj;\n  parseHost(urlObj, options);\n  parsePort(urlObj, options);\n  parsePath(urlObj, options);\n  parseQuery(urlObj, options);\n  hrefInfo(urlObj);\n  return urlObj;\n}\n\nmodule.exports = {\n  from: parseFromUrl,\n  to: parseUrl\n};","map":null,"metadata":{},"sourceType":"script"}