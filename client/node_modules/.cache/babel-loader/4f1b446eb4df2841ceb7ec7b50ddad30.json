{"ast":null,"code":"\"use strict\";\n\nvar pathUtils = require(\"../util/path\");\n/*\n\tGet a path relative to the site path.\n*/\n\n\nfunction relatePath(absolutePath, siteAbsolutePath) {\n  var relativePath = []; // At this point, it's related to the host/port\n\n  var related = true;\n  var parentIndex = -1; // Find parents\n\n  siteAbsolutePath.forEach(function (siteAbsoluteDir, i) {\n    if (related) {\n      if (absolutePath[i] !== siteAbsoluteDir) {\n        related = false;\n      } else {\n        parentIndex = i;\n      }\n    }\n\n    if (!related) {\n      // Up one level\n      relativePath.push(\"..\");\n    }\n  }); // Form path\n\n  absolutePath.forEach(function (dir, i) {\n    if (i > parentIndex) {\n      relativePath.push(dir);\n    }\n  });\n  return relativePath;\n}\n\nfunction relativize(urlObj, siteUrlObj, options) {\n  if (urlObj.extra.relation.minimumScheme) {\n    var pathArray = relatePath(urlObj.path.absolute.array, siteUrlObj.path.absolute.array);\n    urlObj.path.relative.array = pathArray;\n    urlObj.path.relative.string = pathUtils.join(pathArray);\n  }\n}\n\nmodule.exports = relativize;","map":null,"metadata":{},"sourceType":"script"}